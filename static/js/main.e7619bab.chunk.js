(this["webpackJsonpsocial-network-app"]=this["webpackJsonpsocial-network-app"]||[]).push([[0],{31:function(e,t,a){e.exports=a(60)},36:function(e,t,a){},37:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),r=a(28),l=a.n(r),c=(a(36),a(3)),s=a(8),i=a(1),u=(a(37),[{id:1,username:"milancemkc",password:"mkc"},{id:2,username:"jocara10",password:"spartacus"},{id:3,username:"pekula96",password:"kockazenepice"},{id:4,username:"suka99",password:"ooomajstore"},{id:5,username:"pero96",password:"mojpero"}]);function g(e){var t=e.usersArray,a=e.setUser,r=Object(o.useState)(""),l=Object(c.a)(r,2),s=l[0],u=l[1],g=Object(o.useState)(""),m=Object(c.a)(g,2),d=m[0],p=m[1],f=Object(i.f)();return Object(o.useEffect)((function(){}),[]),n.a.createElement("div",null,n.a.createElement("input",{type:"text",placeholder:"username",value:s,onChange:function(e){u(e.target.value)}}),n.a.createElement("input",{type:"password",placeholder:"password",value:d,onChange:function(e){p(e.target.value)}}),n.a.createElement("button",{onClick:function(){console.log(s,d);var e=!1;t.forEach((function(t){t.username===s.trim()&&t.password===d.trim()&&(console.log("uspesno"),e=!0,localStorage.setItem("id",t.id.toString()),localStorage.setItem("username",t.username),localStorage.setItem("password",t.password),localStorage.setItem("isLoged","true"),a({id:localStorage.getItem("id"),username:localStorage.getItem("username"),password:localStorage.getItem("password"),isLoged:!0}),setTimeout((function(){f.push("home")}),150))})),e||console.log("neuspesno")}},"Uloguj se"),n.a.createElement("button",{onClick:function(){localStorage.setItem("username",null),localStorage.setItem("password",null),localStorage.setItem("id",null),localStorage.setItem("isLoged",null),a({id:localStorage.getItem("id"),username:localStorage.getItem("username"),password:localStorage.getItem("password"),isLoged:null})}},"Set to null"))}var m=a(61);function d(e){var t=e.setUser,a=Object(i.f)();return n.a.createElement("div",null,n.a.createElement("button",{onClick:function(){localStorage.setItem("username",null),localStorage.setItem("password",null),localStorage.setItem("id",null),localStorage.setItem("isLoged",null),t({id:null,username:null,password:null,isLoged:null}),a.push("/login")}},"LogOut"))}function p(e){var t=e.usersArray,a=e.setUser,r=Object(o.useState)({}),l=Object(c.a)(r,2),i=l[0];l[1];return Object(o.useEffect)((function(){a({id:localStorage.getItem("id"),username:localStorage.getItem("username"),password:localStorage.getItem("password"),isLoged:localStorage.getItem("isLoged")})}),[]),n.a.createElement("div",null,n.a.createElement(d,{setUser:a}),null!==localStorage.getItem("isLoged")&&"null"!==localStorage.getItem("isLoged")?n.a.createElement(n.a.Fragment,null," ",n.a.createElement("button",{onClick:function(){console.log(localStorage.getItem("isLoged")),console.log(i.isLoged)}},"DUGME"),n.a.createElement("div",null," ",t.map((function(e){return n.a.createElement("p",{key:Object(m.a)()},"Idi na Chat sa: ",n.a.createElement(s.b,{key:Object(m.a)(),to:"chat/".concat(e.id)},e.username)," ")}))," ")," "):"adfdfasdfas")}var f=a(13),S=a(10),b=a.n(S),E=function(e){return b.a.get("https://script.google.com/macros/s/AKfycbyaPSgO1KOnrE1vPswfyrByQwhcMtJH5t8VfErd_pc3viSAkU4/exec?id=".concat(e+1))},I=function(e,t){return b.a.post("https://script.google.com/macros/s/AKfycbySS5xyOi8U9KApKftx72Hm5Uy0FcOt3mG6zWKKQ-Ti9OBIhj8/exec?id=".concat(e,"&broj=").concat(t))};function O(e){return e.length<=200&&e.length>0&&!e.includes(";")?[!0,"poruka odgovara formatu"]:e.length>200?[!1,"poruka ima preko 200 karaktera "]:e.length<=0?[!1,"ne mozete poslati praznu poruku"]:e.includes(";")?[!1,"zabranjeno je koristiti neki od karatera iz vase poruke"]:void 0}function h(e){var t=e.setUserApp,a=Object(o.useState)(Object(i.g)().id),r=Object(c.a)(a,1)[0],l=Object(o.useState)({id:localStorage.getItem("id"),username:localStorage.getItem("username"),password:localStorage.getItem("password"),isLoged:localStorage.getItem("isLoged")}),s=Object(c.a)(l,1)[0],u=Object(o.useState)([]),g=Object(c.a)(u,2),p=g[0],S=g[1],h=Object(o.useState)([]),j=Object(c.a)(h,2),v=j[0],k=j[1],w=Object(o.useState)([]),y=Object(c.a)(w,2),U=y[0],L=y[1],x=Object(o.useState)(""),A=Object(c.a)(x,2),K=A[0],P=A[1];window.onbeforeunload=function(){I(s.id,Number(localStorage.getItem("redZaUpis")))},Object(o.useEffect)((function(){(function(e){return b.a.get("https://script.google.com/macros/s/AKfycbySS5xyOi8U9KApKftx72Hm5Uy0FcOt3mG6zWKKQ-Ti9OBIhj8/exec?id=".concat(e))})(s.id).then((function(e){console.log(e.data),localStorage.setItem("redZaUpis",e.data)})),E(Number(r)).then((function(e){var t=e.data.map((function(e){return{id:e.split(";")[0],idPoslao:e.split(";")[1],poruka:e.split(";")[2],date:Date.parse(e.split(";")[3]),stringDate:e.split(";")[3]}}));k(t)})),E(Number(s.id)).then((function(e){var t=e.data.map((function(e){return{id:e.split(";")[0],idPoslao:e.split(";")[1],poruka:e.split(";")[2],date:Date.parse(e.split(";")[3]),stringDate:e.split(";")[3]}}));console.log(t),S(t)}));var e=setInterval((function(){E(Number(r)).then((function(e){var t=e.data.map((function(e){return{id:e.split(";")[0],idPoslao:e.split(";")[1],poruka:e.split(";")[2],date:Date.parse(e.split(";")[3]),stringDate:e.split(";")[3]}}));k(t)}))}),2e3);return function(){clearInterval(e),console.log("odjavaaaaaaaaaa"+localStorage.getItem("redZaUpis")),I(s.id,Number(localStorage.getItem("redZaUpis")))}}),[]),Object(o.useEffect)((function(){var e=[];e=s.id!==r?[].concat(Object(f.a)(v.filter((function(e){return e.idPoslao===s.id}))),Object(f.a)(p.filter((function(e){return e.idPoslao===r})))):Object(f.a)(p.filter((function(e){return e.idPoslao===s.id}))),L(e),console.log(U)}),[v,p]);var D=function(){if(O(K)[0]){!function(e,t,a,o){b.a.post("https://script.google.com/macros/s/AKfycbyaPSgO1KOnrE1vPswfyrByQwhcMtJH5t8VfErd_pc3viSAkU4/exec?poruka=".concat(e,"&id=").concat(t,"&idPoslao=").concat(a,"&redZaUpis=").concat(o))}(K,s.id,r,localStorage.getItem("redZaUpis")),localStorage.setItem("redZaUpis",Number(localStorage.getItem("redZaUpis"))+1);var e=Object(f.a)(p);e.push({id:s.id,idPoslao:r,poruka:K,date:Date.parse((new Date).toString()),stringDate:(new Date).toString()}),S(e),P("")}else alert(O(K)[1])};return n.a.createElement("div",null,n.a.createElement("button",{onClick:function(){console.log(localStorage.getItem("redZaUpis"))}},"DUGME"),n.a.createElement(d,{setUser:t}),n.a.createElement("h1",null,"chat sa korisnikom sa id-om: "+r),n.a.createElement("input",{type:"text",value:K,placeholder:"poruka...",onChange:function(e){P(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&D()}}),U.sort((function(e,t){return e.date-t.date})).map((function(e){return n.a.createElement("div",{key:Object(m.a)()},n.a.createElement("p",{key:Object(m.a)()},e.poruka+" | "+e.id+"   | "))})))}var j=function(){var e=Object(o.useState)([]),t=Object(c.a)(e,2),a=t[0],r=t[1],l=Object(o.useState)({id:localStorage.getItem("id"),username:localStorage.getItem("username"),password:localStorage.getItem("password"),isLoged:localStorage.getItem("isLoged")}),m=Object(c.a)(l,2),d=m[0],f=m[1];return Object(o.useEffect)((function(){f({id:localStorage.getItem("id"),username:localStorage.getItem("username"),password:localStorage.getItem("password"),isLoged:localStorage.getItem("isLoged")}),r(u)}),[]),n.a.createElement("div",{className:"App"},n.a.createElement(s.a,null,n.a.createElement(i.c,null,n.a.createElement(i.a,{exact:!0,path:"/home"},"null"!==d.isLoged&&null!==d.isLoged?n.a.createElement(p,{usersArray:a,setUser:f}):n.a.createElement("p",null,"nisi ulogovan")),n.a.createElement(i.a,{exact:!0,path:"/"},n.a.createElement("button",{onClick:function(){console.log(a)}},"abcdefg")),n.a.createElement(i.a,{exact:!0,path:"/login"},n.a.createElement(g,{usersArray:a,setUser:f})),n.a.createElement(i.a,{exact:!0,path:"/register"}),n.a.createElement(i.a,{exact:!0,path:"/chat/:id"},"null"!==d.isLoged&&null!==d.isLoged?n.a.createElement(h,{setUserApp:f}):n.a.createElement("p",null,"nisi ulogovan")))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.e7619bab.chunk.js.map